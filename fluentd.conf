<source>
  @type forward
  port 24224
</source>

<match docker.ocserv>
  @type http
  endpoint http://192.168.100.21:8888/logs

  <format>
    @type single_value
    message_key log
  </format>

  <buffer>
    @type memory
    flush_interval 5s          # Flush logs every 5 second
    chunk_limit_size 512k      # Set a reasonable chunk size limit, such as 512KB
    retry_forever true         # Retry indefinitely until the logs are delivered
    retry_wait 10s             # Retry every 10 seconds if the endpoint is unreachable
    overflow_action drop_oldest_chunk  # Drop the oldest chunk if the buffer overflows
  </buffer>

  retryable_response_codes 500,502,503,504

</match>